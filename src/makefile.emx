# MakeNL makefile for EMX 0.9d
# Tested with EMX 0.9d (GNU Make 3.79.1 & GCC 2.8.1)
#
# $Id: makefile.emx,v 1.5 2007-04-16 18:38:03 fido Exp $
#
# Build with:
#
# make -f makefile.emx          (release) or
# make -f makefile.emx DEBUG=1  (debug) or
# make -f makefile.emx clean    (remove temp files)

CC=gcc
CFLAGS+= -W -Wall

ifdef DEBUG
CFLAGS+= -g
else
CFLAGS+= -s
endif

OBJS=	config.o \
	crc16.o \
	fileutil.o \
	fts5.o \
	lsttool.o \
	makenl.o \
	merge.o \
	mkdiff.o \
	mklog.o \
	msgtool.o \
	os.o \
	output.o \
	process.o \
	stack.o \
	strtool.o \
	upcont.o

.c.o:
	$(CC) $(CFLAGS) -c $<

makenl.exe: $(OBJS)
	$(CC) $(CFLAGS) -o $@ *.o

clean:
	del $(OBJS)
	del makenl.exe
